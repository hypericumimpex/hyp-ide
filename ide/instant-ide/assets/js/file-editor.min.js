!function(e){e(document).ready(function(){e("body").removeClass("instant-ide-loading"),e("#instant-ide-file-editor-loading").hide(),e("#instant-ide-file-editor-loaded").show(),window.self!==window.top&&e("body").append('<div id="instant-ide-inside-iframe-overlay"><a href="'+iide_url+'" target="_blank">Click Here To Access Instant IDE In A New Tab</a><div class="instant-ide-login-logo-container"><img width="200" height="200" style="margin:0 auto;display:block;" src="'+iide_url+'assets/css/images/instant-ide-login-logo.png"></div></div>'),e.ajaxSetup({headers:{"iide-ajax-token":e('meta[name="iide-ajax-token"]').attr("content")}}),null===localStorage.getItem("iide_copy_file_folder_path")&&localStorage.setItem("iide_copy_file_folder_path",""),null===localStorage.getItem("iide_copy_file_folder_action")&&localStorage.setItem("iide_copy_file_folder_action",""),null===localStorage.getItem("iide_copy_file_folder_source")&&localStorage.setItem("iide_copy_file_folder_source",""),localStorage.setItem("iide_active_editor",iide_active_editor),localStorage.setItem("iide_dev_path",iide_dev_path),null===localStorage.getItem("iide_file_tree_width")&&localStorage.setItem("iide_file_tree_width","md"),null===localStorage.getItem("iide_console_height")&&localStorage.setItem("iide_console_height","md"),null===localStorage.getItem("iide_site_preview_width")&&localStorage.setItem("iide_site_preview_width","md"),null===localStorage.getItem("iide_theme")&&localStorage.setItem("iide_theme","dark"),null===localStorage.getItem("iide_monaco_editor_theme")&&localStorage.setItem("iide_monaco_editor_theme","tomorrow-night-iide"),null===localStorage.getItem("iide_ace_editor_theme")&&localStorage.setItem("iide_ace_editor_theme","tomorrow_night_eighties"),null===localStorage.getItem("iide_word_wrap")&&localStorage.setItem("iide_word_wrap","off"),null===localStorage.getItem("iide_show_hidden_files")&&localStorage.setItem("iide_show_hidden_files","false"),"true"==localStorage.getItem("iide_show_hidden_files")&&e("body").addClass("instant-ide-file-tree-show-hidden");var i=["gif","jpg","jpeg","png","svg","swf","psd","bmp","tiff","ico"];if(e("body").hasClass("instant-ide-monaco-editor-active")){require.config({paths:{vs:"assets/js/vs"}})}else{function t(){e(".ace_editor").width(e("#instant-ide-file-editor-container").width()),e(".ace_content").width(e("#instant-ide-file-editor-container").width()),e(".ace_editor").height(e("#instant-ide-file-editor-container").height()-64),e(".ace_content").height(e("#instant-ide-file-editor-container").height()-64)}e(window).resize(t),t()}function n(e){swal({text:e,type:"error"})}function a(i,t,a,o,l){swal({title:i,text:t,type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",cancelButtonText:"No",focusCancel:!0}).then(i=>{i.value&&("delete_file"==a?m(a,o,l):"delete_folder"==a&&function(i,t,a){var o=w(t,a);e.ajax({type:"POST",url:iide_url+"editor/file-editor-ajax.php",data:{action:"instant_ide_file_tree_right_click_menu_action",context_menu_key:i,rel_path:o},success:function(e){var i="Delete Error"==e.substring(0,12);if(i){var i=!1;n(e)}else t.remove()}})}(a,o,l))})}function o(i,t,a,o,l){swal({title:i,text:t,type:"info",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(i=>{i.value&&function(i,t,a){e("#instant-ide-file-editor-menu .instant-ide-ajax-save-spinner").show();var o=w(t,a),l="iideft-root-directory"==t.attr("id")?"":t.find("a").first().text(),s=i;e.ajax({type:"POST",url:iide_url+"editor/file-editor-ajax.php",data:{action:"instant_ide_one_click_install",context_menu_key:s,rel_path:o,name:l},success:function(i){var a="Install Error"==i.substring(0,13);if(a)n(i);else{if(e("#instant-ide-file-editor-menu .instant-ide-ajax-save-spinner").hide(),e("#instant-ide-file-editor-menu .instant-ide-saved").html(i).fadeIn("slow"),window.setTimeout(function(){e("#instant-ide-file-editor-menu .instant-ide-saved").fadeOut("slow")},2e3),"iideft-root-directory"==t.attr("id")||t.find("a").first().hasClass("iideft-directory-opened")?e("#iideft-root-directory").load(window.location.href+" #iideft-root-directory > *",function(){e(".instant-ide-file-tree").find("ul").slice(1).hide()}):t.find("a").first().hasClass("iideft-directory-open")||t.find("a").first().dblclick(),"install_october"==s&&"iideft-root-directory"==t.attr("id"))var l=platform_url_dev_path+"/"+o+"install.php";else if("install_october"==s&&"iideft-root-directory"!=t.attr("id"))var l=platform_url_dev_path+"/"+o+"/install.php";else var l=platform_url_dev_path+"/"+o;var r=i.replace(" Install Successful!","");swal({text:r+" Installer Ready",type:"success"}).then(e=>{swal({title:"Run Installer!",text:"To finalize the "+r+' CMS installation just click the "Install" button below.',type:"info",showCancelButton:!0,confirmButtonText:"Install",cancelButtonText:"Cancel"}).then(e=>{e.value&&window.open(l,"_blank")})})}}})}(a,o,l)})}var l,s,r;if(l=document.getElementById("instant-ide-file-tree-container"),s=function(){e("body").hasClass("instant-ide-site-preview-active")&&(e("body").addClass("instant-ide-site-preview-file-tree-active"),e(".instant-ide-file-tree-cog").show(),e(window).resize(),e("body").hasClass("instant-ide-ace-editor-active")&&t())},r=null,l.onmouseover=function(){r=setTimeout(s,300)},l.onmouseout=function(){clearTimeout(r)},e("#instant-ide-file-editor-container").mouseenter(function(){e("body").hasClass("instant-ide-site-preview-active")&&(e("body").removeClass("instant-ide-site-preview-file-tree-active"),e(".instant-ide-file-tree-cog").hide(),e(window).resize(),e("body").hasClass("instant-ide-ace-editor-active")&&t())}),e("#instant-ide-file-tree-container").on("mouseenter","li.iideft-file",function(){e(this).addClass("instant-ide-file-tree-file-right-clickable")}).on("mouseleave","li.iideft-file",function(){e(this).removeClass("instant-ide-file-tree-file-right-clickable")}),e("#instant-ide-file-tree-container").on("mouseenter","li.iideft-directory",function(){e(this).addClass("instant-ide-file-tree-folder-right-clickable")}).on("mouseleave","li.iideft-directory",function(){e(this).removeClass("instant-ide-file-tree-folder-right-clickable")}),e.contextMenu({selector:".instant-ide-file-editor-tab",callback:function(e,i){},items:{close_tab:{name:"Close Tab",callback:function(i,t,n){e(this).find(".instant-ide-file-editor-tab-quit").click()}},close_all_tabs:{name:"Close All Tabs",callback:function(i,t,n){e(".instant-ide-file-editor-tab-quit").click()}},close_other_tabs:{name:"Close Other Tabs",callback:function(i,t,n){e(".instant-ide-file-editor-tab-quit").not(e(this).find(".instant-ide-file-editor-tab-quit")).click()}}}}),"off"==localStorage.getItem("iide_word_wrap"))var d="Enable Word Wrap";else d="Disable Word Wrap";if(e.contextMenu({selector:".instant-ide-file-editor-cog",trigger:"left",callback:function(e,i){},items:{refresh_file_tree:{name:d,callback:function(){"off"==localStorage.getItem("iide_word_wrap")?(localStorage.setItem("iide_word_wrap","on"),e('.context-menu-item > span:contains("able Word Wrap")').text("Disable Word Wrap")):(localStorage.setItem("iide_word_wrap","off"),e('.context-menu-item > span:contains("able Word Wrap")').text("Enable Word Wrap"))}}}}),"false"==localStorage.getItem("iide_show_hidden_files"))var c="Show Hidden Files";else c="Hide Hidden Files";function f(i,t){var a=i,o=t,l=e("#instant-ide-file-editor-upload-form").clone(!0);e("#instant-ide-file-editor-upload-form").on("submit",function(i){e("#instant-ide-upload-button").hide(),e("#instant-ide-file-editor-upload-form .instant-ide-ajax-save-spinner").show();for(var t=w(o,i),s=e("#instant-ide-file-upload").prop("files"),r=new FormData,d=0;d<s.length;d++){var c=s[d];r.append("uploads[]",c,c.name)}r.append("action","instant_ide_file_tree_upload_action"),r.append("context_menu_key",a),r.append("rel_path",t),r&&e.ajax({type:"POST",xhr:function(){var i=new window.XMLHttpRequest;return i.upload.addEventListener("progress",function(i){if(i.lengthComputable){var t=i.loaded/i.total;t=parseInt(100*t),e("#instant-ide-file-upload-progress").progressbar({value:t})}},!1),i},url:iide_url+"editor/file-editor-ajax.php",processData:!1,contentType:!1,cache:!1,data:r,success:function(i){if(e("#instant-ide-upload-button").show(),e("#instant-ide-file-editor-upload-form .instant-ide-ajax-save-spinner").hide(),"Upload Error"==i.substring(0,12)){n(i)}else{if(o.find("a").first().hasClass("iideft-directory-open")){var t=[];for(var a of(o.find("ul:first").children().each(function(){t.push(e(this).attr("title"))}),r.values()))if(a.name&&-1==e.inArray(a.name,t)){var s=a.name,d=s.split(".").pop(),c=a.type,f="image"==c.split("/")[0]?"image":"application"==c.split("/")[0]?"zip":"edit";o.find("ul:first").prepend('<li class="iideft-file iideft-file-'+f+" ext-"+d+'" title="'+s+'"><a href="#">'+s+"</a></li>")}}else o.find("a").first().dblclick();b(),y(),e("#instant-ide-file-editor-upload-form i").click(),e("#instant-ide-file-editor-upload-form").replaceWith(l),swal({text:i,type:"success"})}}}),i.preventDefault()})}function u(t,a,o){var l=(a=a).attr("title"),s=w(a,o),r=s.indexOf("/")>-1?s.substr(0,s.lastIndexOf("/")+1):"";e.ajax({type:"POST",url:iide_url+"editor/file-editor-ajax.php",data:{action:"instant_ide_file_tree_right_click_menu_action",context_menu_key:t,rel_path:r,zip_file_name:l},success:function(t){if(t)if("Unzip Error!"==t){n(t)}else{var l=t.split("|")[0],r=t.split("|")[1];if("folder"==l){var d=s.replace(/[_\W]+/g,"-").toLowerCase();a.after('<li id="iideft-directory-'+d+"-"+r+'" class="iideft-directory iideft-temp-directory" title="'+r+'"><i class="fa fa-caret-right iideft-directory-icon" aria-hidden="true"></i><a href="#">'+r+'</a><ul style="display: none;"></ul></li>')}else{var c=r.split(".").pop(),f=e.inArray(c,i)>-1?"image":"zip"==c?"zip":"edit";a.after('<li class="iideft-file iideft-file-'+f+" ext-"+c+'" title="'+r+'"><a href="#">'+r+"</a></li>")}b(),y(),function(e,i,t,n,a){swal({title:e,text:i,type:"success",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(e=>{e.value&&m(t,n,a)})}("Unzip Successful!","Would you like to delete the zip file?","delete_file",a,o)}}})}function h(i,t,n){var a=t.attr("title");if(".zip"==a.slice(-4))var o=a;else o=a+".zip";var l=w(t,n),s=l.indexOf("/")>-1?l.substr(0,l.lastIndexOf("/")+1)+a:a;e("#instant-ide-file-editor-tab-container").find('[title="'+s+'"]').length;t.text().split(".").pop();e.ajax({type:"POST",url:iide_url+"editor/file-editor-ajax.php",data:{action:"instant_ide_file_tree_right_click_menu_action",context_menu_key:i,rel_path:s,file_name:a},success:function(i){if(i){e("#instant-ide-file-editor-download-link").attr("href",iide_url+"tmp/"+o);var t=document.getElementById("instant-ide-file-editor-download-link");t&&t.click()}}})}function m(i,t,a){if(e(".iideft-file-selected").length>1){var o=[];e(".instant-ide-file-tree").find(".iideft-file-selected").each(function(i){o.push(w(e(this),i,multi=!0))})}else o=w(t,a);e.ajax({type:"POST",url:iide_url+"editor/file-editor-ajax.php",data:{action:"instant_ide_file_tree_right_click_menu_action",context_menu_key:i,rel_path:o},success:function(i){if("Delete Error"==i.substring(0,12)){n(i)}else if(e(".iideft-file-selected").length>1)e.each(o,function(i,t){if(e("#instant-ide-file-editor-tab-container").find('[title="'+t+'"]').length){var n=t.replace(/[_\W]+/g,"-").toLowerCase();e("#"+("instant-ide-"+n+"-textarea-container-tab")+" .instant-ide-file-editor-tab-quit").click()}}),e(".iideft-file-selected").remove();else{if(e("#instant-ide-file-editor-tab-container").find('[title="'+o+'"]').length){var a=o.replace(/[_\W]+/g,"-").toLowerCase();e("#"+("instant-ide-"+a+"-textarea-container-tab")+" .instant-ide-file-editor-tab-quit").click()}t.remove()}}})}function p(t,n,a,o=!1){var l=localStorage.getItem("iide_copy_file_folder_path"),s=l.indexOf("/")>-1?l.substr(0,l.lastIndexOf("/")+1):"",r=w(n,a),d=r.indexOf("/")>-1?r.substr(0,r.lastIndexOf("/")+1):"",c=localStorage.getItem("iide_copy_file_folder_action"),f=localStorage.getItem("iide_copy_file_folder_source"),u=l.split("/").pop(),h=n.find("a").first().text(),m=u.split(".").pop(),p=e.inArray(m,i)>-1?"image":"zip"==m?"zip":"edit";e.ajax({type:"POST",url:iide_url+"editor/file-editor-ajax.php",data:{action:"instant_ide_file_tree_right_click_menu_action",context_menu_key:t,copy_path:l,paste_path:r,paste_action:c,paste_source:f,paste_name:u,action_name:h,paste_ext:m},success:function(i){if(i)if("Paste Error"==i.substring(0,11));else{var a=i.substr(i.indexOf("|")+1);if("file"==f)if("paste_file"!=t||o){if(n.find("a").first().hasClass("iideft-directory-open")||n.find("a").first().dblclick(),o?n.next().prepend('<li class="iideft-file iideft-file-'+p+" ext-"+m+'" title="'+a+'"><a href="#">'+a+"</a></li>"):n.find("ul:first").prepend('<li class="iideft-file iideft-file-'+p+" ext-"+m+'" title="'+a+'"><a href="#">'+a+"</a></li>"),"cut"==c&&(e(".instant-ide-file-tree-copied-item").remove(),e("#instant-ide-file-editor-tab-container").find('[title="'+l+'"]').length)){var u=l.replace(/[_\W]+/g,"-").toLowerCase();e("#"+("instant-ide-"+u+"-textarea-container-tab")+" .instant-ide-file-editor-tab-quit").click()}}else n.after('<li class="iideft-file iideft-file-'+p+" ext-"+m+'" title="'+a+'"><a href="#">'+a+"</a></li>");else if("folder"==f){var h=r.replace(/[_\W]+/g,"-").toLowerCase();"paste_file"==t?n.after('<li id="iideft-directory-'+h+"-"+a+'" class="iideft-directory iideft-temp-directory" title="'+a+'"><i class="fa fa-caret-right iideft-directory-icon" aria-hidden="true"></i><a href="#">'+a+'</a><ul style="display: none;"></ul></li>'):(n.find("a").first().hasClass("iideft-directory-open")||n.find("a").first().dblclick(),n.find("ul:first").prepend('<li id="iideft-directory-'+h+"-"+a+'" class="iideft-directory iideft-temp-directory" title="'+a+'"><i class="fa fa-caret-right iideft-directory-icon" aria-hidden="true"></i><a href="#">'+a+'</a><ul style="display: none;"></ul></li>')),e(".instant-ide-file-tree-copied-item").find("ul").first().children().clone().appendTo(e(".iideft-temp-directory ul")),e(".iideft-temp-directory").removeClass("iideft-temp-directory"),"cut"==c&&s==d&&e(".instant-ide-file-tree-copied-item").remove()}if("cut"==c&&s!=d){if(e("#instant-ide-file-editor-tab-container").find('[title="'+l+'"]').length){u=l.replace(/[_\W]+/g,"-").toLowerCase();e("#"+("instant-ide-"+u+"-textarea-container-tab")+" .instant-ide-file-editor-tab-quit").click()}e(".instant-ide-file-tree-copied-item").remove()}b(),y()}}})}function _(t,a,o){swal({title:"Give your file a name",input:"text",showCancelButton:!0,confirmButtonText:"Submit",preConfirm:t=>new Promise(n=>{setTimeout(()=>{e.inArray(t.split(".").pop(),i)>-1&&swal.showValidationError("Image files cannot be created."),n()},0)}),allowOutsideClick:!1}).then(i=>{if(i.value){var l=w(a,o),s=l.indexOf("/")>-1?l.substr(0,l.lastIndexOf("/")+1):"",r="iideft-root-directory"==a.attr("id")?"":a.find("a").first().text(),d=i.value,c=""==d.split(".").pop()?"txt":d.split(".").pop();e.ajax({type:"POST",url:iide_url+"editor/file-editor-ajax.php",data:{action:"instant_ide_file_tree_right_click_menu_action",context_menu_key:t,rel_path:s,name:r,file_name:d},success:function(e){if("Error"==e.substring(0,5)){n(e.split("|")[0])}else{var i=e.substr(e.indexOf("|")+1);"folder_create_file"==t?(a.find("a").first().hasClass("iideft-directory-open")||a.find("a").first().dblclick(),a.find("ul:first").append('<li class="iideft-file iideft-file-edit ext-'+c+'" title="'+i+'"><a href="#">'+i+"</a></li>")):a.after('<li class="iideft-file iideft-file-edit ext-'+c+'" title="'+i+'"><a href="#">'+i+"</a></li>"),b()}}})}})}function v(i,t,a){swal({title:"Give your folder a name",input:"text",showCancelButton:!0,confirmButtonText:"Submit",preConfirm:e=>new Promise(i=>{setTimeout(()=>{""===e&&swal.showValidationError("You must give your folder a name."),i()},0)}),allowOutsideClick:!1}).then(o=>{if(o.value){var l=w(t,a),s=l.indexOf("/")>-1?l.substr(0,l.lastIndexOf("/")+1):"",r="iideft-root-directory"==t.attr("id")?"":t.find("a").first().text(),d=o.value;e.ajax({type:"POST",url:iide_url+"editor/file-editor-ajax.php",data:{action:"instant_ide_file_tree_right_click_menu_action",context_menu_key:i,rel_path:s,name:r,folder_name:d},success:function(e){if("Error"==e.substring(0,5)){n(e.split("|")[0])}else{var a=e.substr(e.indexOf("|")+1);if("folder_create_folder"==i){var o=l.replace(/[_\W]+/g,"-").toLowerCase();t.find("a").first().hasClass("iideft-directory-open")||t.find("a").first().dblclick(),t.find("ul:first").prepend('<li id="iideft-directory-'+o+"-"+a+'" class="iideft-directory" title="'+a+'"><i class="fa fa-caret-right iideft-directory-icon" aria-hidden="true"></i><a href="#">'+a+'</a><ul style="display: none;"></ul></li>')}else{o=l.substr(0,l.lastIndexOf("/")).replace(/[_\W]+/g,"-").toLowerCase();t.after('<li id="iideft-directory-'+o+"-"+a+'" class="iideft-directory" title="'+a+'"><i class="fa fa-caret-right iideft-directory-icon" aria-hidden="true"></i><a href="#">'+a+'</a><ul style="display: none;"></ul></li>')}b(),y()}}})}})}function g(i,t,n,a){localStorage.iide_copy_file_folder_path=w(i,a),localStorage.iide_copy_file_folder_action=t,localStorage.iide_copy_file_folder_source=n,e(".instant-ide-file-tree li").removeClass("instant-ide-file-tree-copied-item"),i.addClass("instant-ide-file-tree-copied-item")}function w(i,t,n=!1){var a=[];i.parents().each(function(){e(this).hasClass("iideft-directory")&&a.unshift(e(this).find("a").first().text())});for(var o=a.length,l="",s=0;s<o;s++)l+=a[s]+"/";if(n||t.stopPropagation(),"iideft-root-directory"==i.attr("id"))var r="";else r=l+i.find("a").first().text();return r.substring(r.indexOf("/")+1)}function b(){e(".iideft-file").not(":hidden").draggable({containment:"#instant-ide-file-tree-container",cursor:"move",helper:"clone",distance:10,refreshPositions:!0}),e(".iideft-directory").not("#iideft-root-directory").not(":hidden").draggable({containment:"#instant-ide-file-tree-container",cursor:"move",helper:"clone",distance:10,refreshPositions:!0})}function y(){var i;e(".iideft-directory").not(":hidden").droppable({greedy:!0,over:function(t,n){$this=e(this).find("a").first(),e(this).find("a").first().hasClass("iideft-directory-open")||(i=setTimeout(function(){$this.dblclick()},1e3))},out:function(e,t){clearTimeout(i)},drop:x})}function x(i,t){var n=t.draggable;n.hasClass("iideft-file")?(g(n,"cut","file",i),p("paste_file",e(this).find("a").first(),i,!0)):(g(n,"cut","folder",i),p("paste_folder",e(this),i))}function k(i){var t=i.slice(0,-4);e(".instant-ide-file-editor-tab").removeClass("instant-ide-file-editor-tab-active"),e("#"+i).addClass("instant-ide-file-editor-tab-active"),e(".instant-ide-file-editor-textarea-container").hide(),e("#"+t).show(),e("form.instant-ide-file-editor-textarea-form").removeClass("instant-ide-file-editor-active-form"),e("form#"+t.slice(0,-9)+"form").addClass("instant-ide-file-editor-active-form")}function C(i,t,n){if(e("body").hasClass("instant-ide-site-preview-active")||e("#sub-menu-site-preview-open").click(),t)var a=platform_url+"/";else a=platform_url+"/"+w(i,n)+"/";e("#instant-ide-site-preview-container").html('<iframe id="instant-ide-site-preview" src="'+a+"?timestamp="+Date.now()+'"></iframe>'),e("#instant-ide-site-preview-icons-url-view-url").text(a),e("#instant-ide-site-preview").on("load",function(){e(this).contents().on("mousedown, mouseup, click",function(){setTimeout(function(){var i=document.getElementById("instant-ide-site-preview").contentWindow.location.href;e("#instant-ide-site-preview-icons-url-view-url").text(i.split("?")[0])},1e3)})})}e.contextMenu({selector:".instant-ide-file-tree-cog",trigger:"left",callback:function(e,i){},items:{refresh_file_tree:{name:"Refresh File Tree",callback:function(){e("#iideft-root-directory").load(window.location.href+" #iideft-root-directory > *",function(){e(".instant-ide-file-tree").find("ul").slice(1).hide()})}},collapse_folders:{name:"Collapse Folders",callback:function(){e(".iideft-directory-open").dblclick(),e("#iideft-root-directory > a").dblclick()}},sep1:"---------",show_hidden_files:{name:c,callback:function(){"false"==localStorage.getItem("iide_show_hidden_files")?(e("body").addClass("instant-ide-file-tree-show-hidden"),localStorage.setItem("iide_show_hidden_files","true"),e('.context-menu-item > span:contains(" Hidden Files")').text("Hide Hidden Files")):(e("body").removeClass("instant-ide-file-tree-show-hidden"),localStorage.setItem("iide_show_hidden_files","false"),e('.context-menu-item > span:contains(" Hidden Files")').text("Show Hidden Files"))}}}}),e.contextMenu({selector:"#iideft-root-directory",callback:function(e,i){},items:{open_file:{name:"Open",callback:function(i,t,n){e(this).find("a:first").dblclick()}},root_upload_file:{name:"Upload Files",callback:function(i,t,n){e("#instant-ide-file-editor-upload-form").attr("title",w(e(this),n)).attr("alt",i),e("#instant-ide-file-editor-upload-form-container").fadeToggle("medium"),e("#instant-ide-file-editor-upload-form-overlay").fadeToggle("medium"),f(i,e(this))}},sep1:"---------",paste_file:{name:"Paste",callback:function(i,t,n){p(i,e(this),n),e(".instant-ide-file-tree li").css("opacity","1")}},sep2:"---------",folder_create_file:{name:"New File",callback:function(i,t,n){_(i,e(this),n)}},folder_create_folder:{name:"New Folder",callback:function(i,t,n){v(i,e(this),n)}},sep3:"---------",preview_folder:{name:"Preview Folder",callback:function(i,t,n){C(e(this),root=!0,n)}},reset_dev_path_folder:{name:"Reset Dev Path",callback:function(i,t,n){e("#instant-ide-dev-path").val(""),e("#instant-ide-dev-path").blur()}},sep4:"---------",install_wordpress:{name:"Install WordPress",callback:function(i,t,n){o("You are about to install WordPress inside this directory","Do you want to continue?",i,e(this),n)}},install_october:{name:"Install October CMS",callback:function(i,t,n){o("You are about to install October CMS inside this directory","Do you want to continue?",i,e(this),n)}}}}),e.contextMenu({selector:".instant-ide-file-tree-file-right-clickable",callback:function(e,i){},items:{open_file:{name:"Open",callback:function(i,t,n){e(this).hasClass("iideft-file-zip")?u(i,e(this),n):e(this).dblclick()}},download_file:{name:"Download",callback:function(i,t,n){e(this).attr("title");h(i,e(this),n)}},sep1:"---------",rename_file:{name:"Rename",callback:function(i,t,a){!function(t,a){var o=t.parent().attr("title");swal({title:"Give your file a new name",input:"text",inputValue:o,showCancelButton:!0,confirmButtonText:"Submit",preConfirm:e=>new Promise(i=>{setTimeout(()=>{""==e&&swal.showValidationError("The file name field cannot be empty."),i()},0)}),allowOutsideClick:!1}).then(l=>{if(l.value){var s=w(t.parent(),a),r=s.indexOf("/")>-1,d=r?s.substr(0,s.lastIndexOf("/")+1)+o:o,c=!1;e("#instant-ide-file-editor-tab-container").find('[title="'+d+'"]').length&&(c=!0);var f=l.value,u=f.split(".").pop();e.ajax({type:"POST",url:iide_url+"editor/file-editor-ajax.php",data:{action:"instant_ide_file_tree_right_click_menu_action",context_menu_key:i,rel_path:d,old_name:o,new_name:f,file_open:c},success:function(e){if(e){var i="Rename Error"==e.substring(0,12);if(i){var i=!1;n(e.split("|")[0])}else t.parent().removeClass(function(e,i){return(i.match(/(^|\s)ext-\S+/g)||[]).join(" ")}).addClass("ext-"+u).attr("title",l.value),t.text(l.value)}}})}})}(e(".context-menu-active a"),a)}},delete_file:{name:"Delete",callback:function(i,t,n){var o=e(this).attr("title");e(".iideft-file-selected").length>1?a("You are about to delete multiple files!","Do you want to continue?",i,e(this),n):a("You are about to delete the file: "+o,"Do you want to continue?",i,e(this),n)}},sep2:"---------",cut_file:{name:"Cut",callback:function(i,t,n){g(e(this),"cut","file",n),e(this).css("opacity","0.5")}},copy_file:{name:"Copy",callback:function(i,t,n){g(e(this),"copy","file",n)}},paste_file:{name:"Paste",callback:function(i,t,n){p(i,e(this),n),e(".instant-ide-file-tree li").css("opacity","1")}},duplicate_file:{name:"Duplicate",callback:function(t,n,a){!function(t,n,a){var o=w(n,a),l=n.find("a").first().text(),s=l.split(".").pop(),r=e.inArray(s,i)>-1?"image":"zip"==s?"zip":"edit";e.ajax({type:"POST",url:iide_url+"editor/file-editor-ajax.php",data:{action:"instant_ide_file_tree_right_click_menu_action",context_menu_key:t,rel_path:o,name:l,ext:s},success:function(e){if(e){var i=e.substr(e.indexOf("|")+1);n.after('<li class="iideft-file iideft-file-'+r+" ext-"+s+'" title="'+i+'"><a href="#">'+i+"</a></li>"),b()}}})}(t,e(this),a)}},sep3:"---------",create_file:{name:"New File",callback:function(i,t,n){_(i,e(this),n)}},create_folder:{name:"New Folder",callback:function(i,t,n){v(i,e(this),n)}}}}),e("#instant-ide-file-editor-upload-form-container i").click(function(){e("#instant-ide-file-editor-upload-form-container").fadeOut("medium"),e("#instant-ide-file-editor-upload-form-overlay").fadeOut("medium")}),e.contextMenu({selector:".instant-ide-file-tree-folder-right-clickable",callback:function(e,i){},items:{open_folder:{name:"Open",callback:function(i,t,n){e(this).find("a").first().hasClass("iideft-directory-open")||e(this).find("a").first().dblclick()}},folder_upload_file:{name:"Upload Files",callback:function(i,t,n){e("#instant-ide-file-editor-upload-form").attr("title",w(e(this),n)).attr("alt",i),e("#instant-ide-file-editor-upload-form-container").fadeToggle("medium"),e("#instant-ide-file-editor-upload-form-overlay").fadeToggle("medium"),f(i,e(this))}},download_folder:{name:"Download",callback:function(i,t,n){h(i,e(this),n)}},sep1:"---------",rename_folder:{name:"Rename",callback:function(i,t,a){!function(t,a){var o=t.parent().attr("title");swal({title:"Give your folder a new name",input:"text",inputValue:o,showCancelButton:!0,confirmButtonText:"Submit",preConfirm:e=>new Promise(i=>{setTimeout(()=>{""==e&&swal.showValidationError("The folder name field cannot be empty."),i()},0)}),allowOutsideClick:!1}).then(l=>{if(l.value){var s=w(t.parent(),a),r=s.indexOf("/")>-1,d=r?s.substr(0,s.lastIndexOf("/")+1)+o:o,c=!1;e("#instant-ide-file-editor-tab-container").find('[title="'+d+'"]').length&&(c=!0);var f=l.value;e.ajax({type:"POST",url:iide_url+"editor/file-editor-ajax.php",data:{action:"instant_ide_file_tree_right_click_menu_action",context_menu_key:i,rel_path:d,old_name:o,new_name:f,file_open:c},success:function(e){if(e){var i="Rename Error"==e.substring(0,12);if(i){var i=!1;n(e.split("|")[0])}else t.parent().attr("title",f),t.text(l.value)}}})}})}(e(".context-menu-active > a"),a)}},delete_folder:{name:"Delete",callback:function(i,t,n){a("You are about to delete the folder: "+e(this).attr("title"),"Do you want to continue?",i,e(this),n)}},sep2:"---------",cut_folder:{name:"Cut",callback:function(i,t,n){g(e(this),"cut","folder",n),e(this).css("opacity","0.5")}},copy_folder:{name:"Copy",callback:function(i,t,n){g(e(this),"copy","folder",n)}},paste_folder:{name:"Paste",callback:function(i,t,n){p(i,e(this),n),e(".instant-ide-file-tree li").css("opacity","1")}},duplicate_folder:{name:"Duplicate",callback:function(i,t,n){!function(i,t,n){var a=w(t,n),o=t.find("a").first().text();e.ajax({type:"POST",url:iide_url+"editor/file-editor-ajax.php",data:{action:"instant_ide_file_tree_right_click_menu_action",context_menu_key:i,rel_path:a,name:o},success:function(i){if(i){var n=i.substr(i.indexOf("|")+1),o=a.substr(0,a.lastIndexOf("/")).replace(/[_\W]+/g,"-").toLowerCase();t.after('<li id="iideft-directory-'+o+"-"+n+'" class="iideft-directory iideft-temp-directory" title="'+n+'"><i class="fa fa-caret-right iideft-directory-icon" aria-hidden="true"></i><a href="#">'+n+'</a><ul style="display: none;"></ul></li>'),t.find("ul").first().children().clone().appendTo(e(".iideft-temp-directory ul")),e(".iideft-temp-directory").removeClass("iideft-temp-directory"),b()}}})}(i,e(this),n)}},sep3:"---------",folder_create_file:{name:"New File",callback:function(i,t,n){_(i,e(this),n)}},folder_create_folder:{name:"New Folder",callback:function(i,t,n){v(i,e(this),n)}},sep4:"---------",preview_folder:{name:"Preview Folder",callback:function(i,t,n){C(e(this),root=!1,n)}},set_dev_path_folder:{name:"Set As Dev Path",callback:function(i,t,n){var a=w(e(this),n);e("#instant-ide-dev-path").val(e("#instant-ide-dev-path").val()+"/"+a),e("#instant-ide-dev-path").blur()}},reset_dev_path_folder:{name:"Reset Dev Path",callback:function(i,t,n){e("#instant-ide-dev-path").val(""),e("#instant-ide-dev-path").blur()}},sep5:"---------",install_wordpress:{name:"Install WordPress",callback:function(i,t,n){o("You are about to install WordPress inside this directory","Do you want to continue?",i,e(this),n)}},install_october:{name:"Install October CMS",callback:function(i,t,n){o("You are about to install October CMS inside this directory","Do you want to continue?",i,e(this),n)}}}}),e(".instant-ide-file-tree").find("ul").slice(1).hide(),e("#instant-ide-file-tree-container").on("dblclick",".iideft-directory > a",function(i){if(e(this).toggleClass("iideft-directory-open"),e(this).hasClass("iideft-directory-opened"))e(this).parent().find("ul:first").slideToggle("medium"),e(this).hasClass("iideft-directory-open")?e(this).parent().find("i:first").replaceWith('<i class="fa fa-caret-down iideft-directory-icon" aria-hidden="true"></i>'):e(this).parent().find("i:first").replaceWith('<i class="fa fa-caret-right iideft-directory-icon" aria-hidden="true"></i>'),b(),y();else{e(this).css("background-image",'url("'+iide_url+'assets/css/images/ajax-save-in-progress.gif")').css("background-size","16px 16px"),e(this).addClass("iideft-directory-opened");var t=w(e(this).parent(),i);!function(i,t){var i=i;e.ajax({type:"POST",url:iide_url+"editor/file-editor-ajax.php",data:{action:"instant_ide_file_tree_folder_open",folder_rel_path:t},success:function(e){e&&i.find("ul:first").empty().append(e)}})}(e(this).parent(),t);var n=e(this);setTimeout(function(){n.css("background-image","").css("background-size",""),n.parent().find("ul:first").slideToggle("medium"),n.hasClass("iideft-directory-open")?n.parent().find("i:first").replaceWith('<i class="fa fa-caret-down iideft-directory-icon" aria-hidden="true"></i>'):n.parent().find("i:first").replaceWith('<i class="fa fa-caret-right iideft-directory-icon" aria-hidden="true"></i>'),b(),y()},300)}}),e(".instant-ide-file-tree").on("click",".iideft-directory-icon",function(){e(this).next().dblclick()}),e("#instant-ide-file-tree-container").on("click",".iideft-file a",function(e){e.preventDefault()}),e("#instant-ide-file-tree-container").on("dblclick",".iideft-file-edit",function(i){var t=w(e(this),i),n=t.replace(/[_\W]+/g,"-").toLowerCase(),a="instant-ide-"+n+"-textarea-container-tab";if(e(this).addClass("iideft-file-dblclicked"),e("#"+a).length)k(a);else{var o=e(this).text(),l=t.split(".").pop(),s=e("body").hasClass("instant-ide-monaco-editor-active")?"plaintext":"text";if("js"==l)var r="javascript";else if("md"==l)r="markdown";else if(e.inArray(l,["php","css","json","less","sass","scss","xml","ini","html","htm","yaml"])>-1)if("htm"==l)r="html";else r=l;else r=s;var d='<div id="instant-ide-'+n+'-textarea-container" class="instant-ide-file-editor-textarea-container">';d+='<form action="/" id="instant-ide-'+n+'-textarea-form" class="instant-ide-file-editor-textarea-form" title="'+t+'">',d+='<input type="hidden" name="action" value="instant_ide_file_editor_save" />',d+='<input class="instant-ide-file-editor-save-button" type="submit" value="Save Changes" name="Submit" alt="Save Changes" />',d+='<p style="margin:0;">',d+='<textarea data-editor="'+r+'" wrap="off" id="instant-ide-'+n+'-textarea" class="instant-ide-tabby-textarea" name="iide[file]" rows="27" style="display:none;"></textarea>',d+="</p>",d+="</form>",d+="</div>",e("#instant-ide-file-editor-container").append(d),e(".instant-ide-file-editor-tab").removeClass("instant-ide-file-editor-tab-active"),e("#instant-ide-file-editor-tab-container").append('<div id="'+a+'" class="instant-ide-file-editor-tab instant-ide-file-editor-tab-active" title="'+t+'"><div class="instant-ide-file-editor-tab-text">'+o+'</div><div class="instant-ide-file-editor-tab-quit"></div></div>'),function(i,t){e.ajax({type:"POST",url:iide_url+"editor/file-editor-ajax.php",data:{action:"instant_ide_file_tree_file_open",file_rel_path:i},success:function(i){var n;i&&(e("#instant-ide-"+t+"-textarea").text(i),e("body").hasClass("instant-ide-monaco-editor-active")?(n=n="instant-ide-"+t+"-textarea",require(["vs/editor/editor.main"],function(){e("#"+n).each(function(){var i=e(this),t=localStorage.getItem("iide_word_wrap"),a=i.data("editor");i.css("display","none");var o=monaco.editor.create(document.getElementById(n+"-container"),{value:[i.val()].join("\n"),wordWrap:t,language:a});o.onDidChangeModelContent(function(t){i.val(o.getValue()),e(".instant-ide-file-editor-tab-active .instant-ide-file-editor-tab-quit").addClass("file-changed")}),"tomorrow-night-iide"==localStorage.getItem("iide_monaco_editor_theme")&&monaco.editor.defineTheme("tomorrow-night-iide",{base:"vs-dark",inherit:!0,rules:[{token:"comment",foreground:"888888"},{token:"variable",foreground:"6392c3"},{token:"variable.predefined.php",foreground:"df7072"},{token:"string",foreground:"98ca98"},{token:"metatag",foreground:"cccccc"},{token:"tag",foreground:"ea7477"},{token:"keyword",foreground:"c091c0"},{token:"attribute.name",foreground:"ee7578"},{token:"attribute.name.css",foreground:"fcca65"},{token:"attribute.value",foreground:"98ca98"},{token:"keyword.css",foreground:"cccccc"},{token:"attribute.value.css",foreground:"f69056"},{token:"attribute.value.number.css",foreground:"f69056"},{token:"attribute.value.hex.css",foreground:"f69056"},{token:"attribute.value.unit.css",foreground:"bb8dbb"}]}),monaco.editor.setTheme(localStorage.getItem("iide_monaco_editor_theme")),o.layout({width:e("#instant-ide-file-editor-container").width(),height:e("#instant-ide-file-editor-container").height()-64}),e(window).resize(function(){o.layout({width:e("#instant-ide-file-editor-container").width(),height:e("#instant-ide-file-editor-container").height()-64})})})})):function(i){e(i).each(function(){var i=e(this),t="on"==localStorage.getItem("iide_word_wrap"),n=i.data("editor"),a=e("<div>",{position:"absolute",width:e("#instant-ide-file-editor-container").width(),height:e("#instant-ide-file-editor-container").height()-64,class:i.attr("class")}).insertBefore(i);i.css("display","none");var o=ace.edit(a[0]);o.renderer.setShowGutter(!0),o.setShowPrintMargin(!1),o.getSession().setValue(i.val()),o.getSession().setUseWrapMode(t),o.getSession().setMode("ace/mode/"+n),o.setTheme("ace/theme/"+localStorage.getItem("iide_ace_editor_theme")),o.setOptions({useWorker:!0,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,useSoftTabs:!0}),o.getSession().on("change",function(){i.val(o.getSession().getValue()),e(".instant-ide-file-editor-tab-active .instant-ide-file-editor-tab-quit").addClass("file-changed")}),e(window).keydown(function(e){if((e.ctrlKey||e.metaKey)&&70==e.which)return o.focus(),e.preventDefault(),!1})})}("#instant-ide-"+t+"-textarea"))}})}(t,n),function(i,t){var n="instant-ide-"+t+"-textarea-container";e(".instant-ide-file-editor-textarea-container").hide(),e("#"+n).show(),e("form.instant-ide-file-editor-textarea-form").removeClass("instant-ide-file-editor-active-form"),e("form#"+n.slice(0,-9)+"form").addClass("instant-ide-file-editor-active-form"),e(".iideft-file").removeClass("iideft-file-active"),i.addClass("iideft-file-active")}(e(this),n)}}),e("#instant-ide-file-tree-container").on("dblclick",".iideft-file-image",function(i){var t=w(e(this),i);e("body").addClass("instant-ide-image-view-active"),e(this).addClass("iideft-file-dblclicked"),e("#instant-ide-image-view-info-name").text(e(this).text()),e("#instant-ide-image-view-info-link").attr("href",platform_url_dev_path+"/"+t);var n=new Image;n.src=platform_url_dev_path+"/"+t,n.onload=function(){e("#instant-ide-image-view-info-width").text(this.width+"px"),e("#instant-ide-image-view-info-height").text(this.height+"px"),e("#instant-ide-image-file-preview").css("width",this.width+2+"px")};var a=new XMLHttpRequest;a.open("HEAD",platform_url_dev_path+"/"+t,!0),a.onreadystatechange=function(){4==a.readyState&&(200==a.status?e("#instant-ide-image-view-info-size").text(function(e,i){if(0==e)return"0 Bytes";var t=i||2,n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(t))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}(a.getResponseHeader("Content-Length"),2)):alert("ERROR"))},a.send(null),e("#instant-ide-image-file-preview img").attr("src",platform_url_dev_path+"/"+t),setTimeout(function(){e("#instant-ide-file-editor-image-view-overlay").show(),e("#instant-ide-file-editor-image-view-container").show()},300)}),e("#instant-ide-file-tree-container").on("dblclick",".iideft-file-zip",function(i){u("open_file",e(this),i)}),e("#instant-ide-file-editor-image-view-container i.instant-ide-file-editor-image-view-close").click(function(){e("body").removeClass("instant-ide-image-view-active"),e("#instant-ide-file-editor-image-view-container").fadeOut("medium"),e("#instant-ide-file-editor-image-view-overlay").fadeOut("medium")}),e("#instant-ide-file-editor-tab-container").sortable(),b(),y(),e("#instant-ide-file-tree-container").on("click",".iideft-file",function(i){i.shiftKey||(e(".iideft-directory a").removeClass("iideft-folder-clicked"),e(".iideft-file").removeClass("iideft-file-selected").removeClass("iideft-file-dblclicked"),e(this).addClass("iideft-file-selected"))}),e("#instant-ide-file-tree-container").on("click",".iideft-directory > a",function(){e(".iideft-file").removeClass("iideft-file-selected").removeClass("iideft-file-dblclicked"),e(".iideft-directory a").removeClass("iideft-folder-clicked"),e(this).addClass("iideft-folder-clicked")}),e("#instant-ide-file-editor-container").on("click",function(){e(".iideft-file-selected").addClass("iideft-file-dblclicked"),e(".iideft-file-selected").removeClass("iideft-file-selected")}),e(".iideft-file-selected").blur(function(){e(".iideft-file").removeClass("iideft-file-selected").removeClass("iideft-file-dblclicked"),e(this).addClass("iideft-file-dblclicked")}),e("#instant-ide-file-tree-container").on("contextmenu",".iideft-file-dblclicked",function(){e(".iideft-file-dblclicked").addClass("iideft-file-selected").removeClass("iideft-file-dblclicked")}),e(".instant-ide-settings-wrap").on("click",".instant-ide-file-editor-tab",function(i){if(e(i.target).is(".instant-ide-file-editor-tab-quit"))return i.preventDefault(),!1;k(e(this).attr("id"))}),e(".instant-ide-settings-wrap").on("click",".instant-ide-file-editor-tab-quit",function(){if(e(this).hasClass("file-changed")&&!confirm("This file has unsaved changes. Are you sure you want to close it?"))return!1;var i=e(this).parent().attr("id");e(this).parent().remove(),function(i){var t=i.slice(0,-4),n=!!e("form#"+t.slice(0,-9)+"form").hasClass("instant-ide-file-editor-active-form"),a=e("#instant-ide-file-editor-tab-container").find(".instant-ide-file-editor-tab").first().attr("id");n&&null!=a&&k(a);e("#"+t).remove()}(i)}),e("#instant-ide-file-tree-container").on("dblclick",".iideft-file-edit",function(){e(".instant-ide-file-editor-active-form").on("submit",function(){e("#instant-ide-file-editor-menu .instant-ide-ajax-save-spinner").show();var i=e(this).attr("title"),t=e(this).serialize()+"&file_rel_path="+i+"&save_action=file-editor-save";return e.post(iide_url+"editor/file-editor-ajax.php",t,function(i){i&&(function(i){e("#instant-ide-file-editor-menu .instant-ide-ajax-save-spinner").hide(),e(".instant-ide-file-editor-tab-active .instant-ide-file-editor-tab-quit").removeClass("file-changed"),e("#instant-ide-file-editor-menu .instant-ide-saved").html(i).fadeIn("slow"),window.setTimeout(function(){e("#instant-ide-file-editor-menu .instant-ide-saved").fadeOut("slow")},2e3)}(i),e("body").hasClass("instant-ide-site-preview-active")&&document.getElementById("instant-ide-site-preview").contentWindow.location.reload())}),!1})}),e("#sub-menu-add-users").click(function(){window.location.href=iide_url+"?enable_setup=true&add_users=true"}),e("#sub-menu-delete-users").click(function(){window.location.href=iide_url+"?enable_setup=true&delete_users=true"}),e("#sub-menu-visit-home").click(function(){window.location.href=platform_url}),e("#sub-menu-logout").click(function(){window.location.href=iide_url+"logout.php"}),e("#sub-menu-open").click(function(){e(".iideft-file-selected").dblclick()}),e("#sub-menu-save").click(function(){e(".instant-ide-file-editor-active-form .instant-ide-file-editor-save-button").click()}),e("#sub-menu-console-open").click(function(){e("body").hasClass("instant-ide-console-active")||(e("body").addClass("instant-ide-console-active"),e("#instant-ide-file-editor-console-container").html(console_iframe),setTimeout(function(){e("iframe#instant-ide-file-editor-console").contents().find("body").removeClass(function(e,i){return(i.match(/(^|\s)instant-ide-theme-\S+/g)||[]).join(" ")}).addClass("instant-ide-theme-"+localStorage.getItem("iide_theme"))},500),e(window).resize())}),e("#sub-menu-console-close").click(function(){e("body").removeClass("instant-ide-console-active"),e("#instant-ide-file-editor-console-container").html(""),e(window).resize()}),e("#sub-menu-console-restart").click(function(){e("body").hasClass("instant-ide-console-active")&&e("#instant-ide-file-editor-console-container").html(console_iframe)}),e("#sub-menu-site-preview-open").click(function(){e("body").hasClass("instant-ide-site-preview-active")||(e("body").addClass("instant-ide-site-preview-active"),e("body").removeClass("instant-ide-site-preview-file-tree-active"),e(".instant-ide-site-preview-icons-container").show(),e(".instant-ide-file-tree-cog").hide(),e("#instant-ide-site-preview-container").html('<iframe id="instant-ide-site-preview" src="'+platform_url+"?timestamp="+Date.now()+'"></iframe>'),e(window).resize(),e("body").hasClass("instant-ide-ace-editor-active")&&t(),e("#instant-ide-site-preview-icons-url-view-url").text(platform_url+"/").attr("contenteditable","true").on("focusin",function(){e("body").addClass("instant-ide-site-preview-address-bar-active")}).on("focusout",function(){e("body").removeClass("instant-ide-site-preview-address-bar-active")}),e("#instant-ide-site-preview").on("load",function(){e(this).contents().on("mousedown, mouseup, click",function(){setTimeout(function(){var i=document.getElementById("instant-ide-site-preview").contentWindow.location.href;e("#instant-ide-site-preview-icons-url-view-url").text(i.split("?")[0])},1e3)})}))}),e("#sub-menu-site-preview-close").click(function(){e("body").removeClass("instant-ide-site-preview-active"),e(".instant-ide-site-preview-icons-container").hide(),e(".instant-ide-file-tree-cog").show(),e("#instant-ide-site-preview-container").html(""),e(window).resize(),e("body").hasClass("instant-ide-ace-editor-active")&&t()}),e("#sub-menu-site-preview-restart").click(function(){e("body").hasClass("instant-ide-site-preview-active")&&(e("#instant-ide-site-preview-container").html('<iframe id="instant-ide-site-preview" src="'+platform_url+"?timestamp="+Date.now()+'"></iframe>'),e("#instant-ide-site-preview-icons-url-view-url").text(platform_url+"/"),e("#instant-ide-site-preview").on("load",function(){e(this).contents().on("mousedown, mouseup, click",function(){setTimeout(function(){var i=document.getElementById("instant-ide-site-preview").contentWindow.location.href;e("#instant-ide-site-preview-icons-url-view-url").text(i.split("?")[0])},1e3)})}))}),e(".instant-ide-site-preview-icons-container i:not(.fa-external-link)").click(function(){if(e(this).hasClass("fa-refresh"))document.getElementById("instant-ide-site-preview").contentWindow.location.reload();else{var i=e(this).attr("title").split("x")[0],t=e(this).attr("title").split("x")[1];"100"==i?e("#instant-ide-site-preview").css("width","100%").css("min-width","1300px").css("height","100%"):e("#instant-ide-site-preview").css("width",i+"px").css("min-width",i+"px").css("height",t+"px")}}),e(".instant-ide-site-preview-icons-container i.fa-external-link").click(function(){var e=document.getElementById("instant-ide-site-preview").contentWindow.location.href;window.open(e.split("?")[0],"_blank")}),e(window).resize(function(){e("#instant-ide-site-preview-icons-url-view").width(e("#instant-ide-site-preview-container").width()-171)}),e(".menu-heading-options").click(function(){e("body").toggleClass("instant-ide-options-active"),e("#instant-ide-file-editor-options-container").fadeToggle("medium"),e("#instant-ide-file-editor-options-overlay").fadeToggle("medium")}),e("#instant-ide-file-editor-options-container i").click(function(){e(".menu-heading-options").click()}),e("#instant-ide-active-editor").val(localStorage.getItem("iide_active_editor")),e("#instant-ide-active-editor").change(function(){var i=e(this).val();i!=localStorage.getItem("iide_active_editor")&&(e.ajax({type:"POST",url:iide_url+"editor/file-editor-ajax.php",data:{action:"instant_ide_active_editor_write",active_editor:i},success:function(e){e&&(swal(e),swal({text:e,type:"success"}).then(e=>{swal({title:"Reload To Finalize Changes!",text:"To finalize these changes you must reload Instant IDE. Would you like to do so now?",type:"info",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(e=>{e.value&&setTimeout(function(){window.location.reload(!0)},2e3)})}))}}),localStorage.setItem("iide_active_editor",i))}),e("#instant-ide-dev-path").val(localStorage.getItem("iide_dev_path")),e("#instant-ide-dev-path").blur(function(){var i=e(this).val();i!=localStorage.getItem("iide_dev_path")&&(e.ajax({type:"POST",url:iide_url+"editor/file-editor-ajax.php",data:{action:"instant_ide_dev_path_write",dev_path:i},success:function(e){e&&(swal(e),swal({text:e,type:"success"}).then(e=>{swal({title:"Reload To Finalize Changes!",text:"To finalize these changes you must reload Instant IDE. Would you like to do so now?",type:"info",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(e=>{e.value&&setTimeout(function(){window.location.reload(!0)},2e3)})}))}}),localStorage.setItem("iide_dev_path",i))}),e('input[name="file_tree_width"][value="'+localStorage.getItem("iide_file_tree_width")+'"]').prop("checked",!0),e("body").removeClass(function(e,i){return(i.match(/(^|\s)instant-ide-file-tree-width-\S+/g)||[]).join(" ")}).addClass("instant-ide-file-tree-width-"+localStorage.getItem("iide_file_tree_width")),e("input[name=file_tree_width]").change(function(){var i=e(this).val();e("body").removeClass(function(e,i){return(i.match(/(^|\s)instant-ide-file-tree-width-\S+/g)||[]).join(" ")}).addClass("instant-ide-file-tree-width-"+i),localStorage.setItem("iide_file_tree_width",i),e(window).resize()}),e('input[name="console_height"][value="'+localStorage.getItem("iide_console_height")+'"]').prop("checked",!0),e("body").removeClass(function(e,i){return(i.match(/(^|\s)instant-ide-console-height-\S+/g)||[]).join(" ")}).addClass("instant-ide-console-height-"+localStorage.getItem("iide_console_height")),e("input[name=console_height]").change(function(){var i=e(this).val();e("body").removeClass(function(e,i){return(i.match(/(^|\s)instant-ide-console-height-\S+/g)||[]).join(" ")}).addClass("instant-ide-console-height-"+i),localStorage.setItem("iide_console_height",i),e(window).resize()}),e('input[name="site_preview_width"][value="'+localStorage.getItem("iide_site_preview_width")+'"]').prop("checked",!0),e("body").removeClass(function(e,i){return(i.match(/(^|\s)instant-ide-site-preview-width-\S+/g)||[]).join(" ")}).addClass("instant-ide-site-preview-width-"+localStorage.getItem("iide_site_preview_width")),e("input[name=site_preview_width]").change(function(){var i=e(this).val();e("body").removeClass(function(e,i){return(i.match(/(^|\s)instant-ide-site-preview-width-\S+/g)||[]).join(" ")}).addClass("instant-ide-site-preview-width-"+i),localStorage.setItem("iide_site_preview_width",i),e(window).resize()}),e('input[name="iide_theme"][value="'+localStorage.getItem("iide_theme")+'"]').prop("checked",!0),e("body").removeClass(function(e,i){return(i.match(/(^|\s)instant-ide-theme-\S+/g)||[]).join(" ")}).addClass("instant-ide-theme-"+localStorage.getItem("iide_theme")),e("input[name=iide_theme]").change(function(){var i=e(this).val();e("body").removeClass(function(e,i){return(i.match(/(^|\s)instant-ide-theme-\S+/g)||[]).join(" ")}).addClass("instant-ide-theme-"+i);var t=e("iframe#instant-ide-file-editor-console").contents();null!==t&&t.find("body").removeClass(function(e,i){return(i.match(/(^|\s)instant-ide-theme-\S+/g)||[]).join(" ")}).addClass("instant-ide-theme-"+i),localStorage.setItem("iide_theme",i)}),e("body").hasClass("instant-ide-monaco-editor-active")?(e("#instant-ide-monaco-editor-theme").val(localStorage.getItem("iide_monaco_editor_theme")),e("#instant-ide-monaco-editor-theme-preview img").attr("src",iide_url+"assets/css/images/monaco-themes/"+localStorage.getItem("iide_monaco_editor_theme")+".png"),e("body").removeClass(function(e,i){return(i.match(/(^|\s)instant-ide-monaco-theme-\S+/g)||[]).join(" ")}).addClass("instant-ide-monaco-theme-"+localStorage.getItem("iide_monaco_editor_theme")),e("#instant-ide-monaco-editor-theme").change(function(){var i=e(this).val();e("#instant-ide-monaco-editor-theme-preview img").attr("src",iide_url+"assets/css/images/monaco-themes/"+i+".png"),e("body").removeClass(function(e,i){return(i.match(/(^|\s)instant-ide-monaco-theme-\S+/g)||[]).join(" ")}).addClass("instant-ide-monaco-theme-"+i),localStorage.setItem("iide_monaco_editor_theme",i)})):(e("#instant-ide-ace-editor-theme").val(localStorage.getItem("iide_ace_editor_theme")),e("#instant-ide-ace-editor-theme-preview img").attr("src",iide_url+"assets/css/images/ace-themes/"+localStorage.getItem("iide_ace_editor_theme")+".png"),e("#instant-ide-ace-editor-theme").change(function(){var i=e(this).val();e("#instant-ide-ace-editor-theme-preview img").attr("src",iide_url+"assets/css/images/ace-themes/"+i+".png"),localStorage.setItem("iide_ace_editor_theme",i)})),e(".instant-ide-file-tree").on("click",".iideft-file",function(i){i.shiftKey&&e(this).addClass("iideft-file-selected")}),e(window).keydown(function(i){return(i.ctrlKey||i.metaKey)&&83==i.which?(i.preventDefault(),e(".instant-ide-file-editor-active-form .instant-ide-file-editor-save-button").click(),!1):(i.ctrlKey||i.metaKey)&&70==i.which?(i.preventDefault(),!1):(e(".iideft-file-selected")[0]&&(i.shiftKey&&38==i.which&&e(".instant-ide-file-tree").find(".iideft-file-selected").first().prev().not(".iideft-directory").addClass("iideft-file-selected"),i.shiftKey&&40==i.which&&e(".instant-ide-file-tree").find(".iideft-file-selected").last().next().addClass("iideft-file-selected")),e("body").hasClass("instant-ide-image-view-active")&&27==i.which&&e("#instant-ide-file-editor-image-view-container i.instant-ide-file-editor-image-view-close").click(),e("body").hasClass("instant-ide-options-active")&&27==i.which&&e(".menu-heading-options").click(),e("body").hasClass("instant-ide-site-preview-address-bar-active")&&13==i.which?(e("#instant-ide-site-preview").attr("src",e("#instant-ide-site-preview-icons-url-view-url").text()),!1):void 0)}),window.onbeforeunload=function(i){if(e(".instant-ide-file-editor-tab-quit.file-changed").length)return confirm("Confirm refresh")}})}(jQuery);